<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-type" content="text/html; charset=utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=0.25, maximum-scale=0.25,user-scalable=0"/>
	<title>Tone Generator</title>
	<link rel="stylesheet" type="text/css" href="style.css">
	
	<script>
	var context = null;
	var usingWebAudio = true;
	if (typeof AudioContext !== 'undefined') {
	  context = new AudioContext();
	} else if (typeof webkitAudioContext !== 'undefined') {
	  context = new webkitAudioContext();
	} else {
	  usingWebAudio = false;
	}

	var playing = false;
	var osc = null;

	function buttonPressdown(mFreq){
		// create new buffer source for playback with an already
		// loaded and decoded empty sound file
		var source = context.createBufferSource();
		source.buffer = myDecodedBuffer;

		// connect to output (your speakers)
		source.connect(context.destination);

		// play the file
		source.noteOn(0);
		
		if(playing && osc){
			buttonPressup();
		}else {
			playing = true;
			osc = context.createOscillator();
			osc.connect(context.destination);
			osc.frequency.value = mFreq;
			osc.start(0);
		}
	}

	function buttonPressup(){
		if(playing && osc){
			playing = false;
			osc.stop(0);
		}
	}

	window.onload = function() {
	  if (!usingWebAudio) {
		document.getElementById("audioControls").innerHTML = "<p>Web audio required.</p>"
	  }
	}
	document.addEventListener("contextmenu", function (e) {
			e.preventDefault();
		}, false);
	</script>
</head>

<body>
	<div id="audioControls">
		<div class="bRow">
			<input type="image" src="shape1.png" class="button" onmousedown="buttonPressdown(261.6)" onmouseup="buttonPressup()" ontouchstart="buttonPressdown(261.6)" ontouchend="buttonPressup()" oncontextmenu="buttonPressup()" draggable="false"/>
			<input type="image" src="shape2.png" class="button" onmousedown="buttonPressdown(293.7)" onmouseup="buttonPressup()" ontouchstart="buttonPressdown(293.7)" ontouchend="buttonPressup()" oncontextmenu="buttonPressup()" draggable="false"/>
		</div>
		<div class="bRow">
			<input type="image" src="shape3.png" class="button" onmousedown="buttonPressdown(329.6)" onmouseup="buttonPressup()" ontouchstart="buttonPressdown(329.6);" ontouchend="buttonPressup()" oncontextmenu="buttonPressup()" draggable="false"/>
			<input type="image" src="shape4.png" class="button" onmousedown="buttonPressdown(349.2)" onmouseup="buttonPressup()" ontouchstart="buttonPressdown(349.2);" ontouchend="buttonPressup()" oncontextmenu="buttonPressup()" draggable="false"/>
		</div>
		<div class="bRow">
			<input type="image" src="shape5.png" class="button" onmousedown="buttonPressdown(392.0)" onmouseup="buttonPressup()" ontouchstart="buttonPressdown(392.0);" ontouchend="buttonPressup()" oncontextmenu="buttonPressup()" draggable="false"/>
			<input type="image" src="shape7.png" class="button" onmousedown="buttonPressdown(440.0)" onmouseup="buttonPressup()" ontouchstart="buttonPressdown(440.0);" ontouchend="buttonPressup()" oncontextmenu="buttonPressup()" draggable="false"/>
		</div>
  </div>
</body>
</html>
